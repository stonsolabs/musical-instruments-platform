# Musical Instruments Platform - Render.com Deployment Configuration
# ================================================================

services:
  # Main web application
  - type: web
    name: musical-instruments-platform
    runtime: docker
    repo: https://github.com/stonsolabs/musical-instruments-platform
    plan: free
    region: frankfurt
    dockerContext: .
    dockerfilePath: ./Dockerfile
    
    # Environment variables from existing group
    envVars:
      - fromGroup: production_vars
    
    # Health check
    healthCheckPath: /health
    
    # Auto-deploy on commits
    autoDeployTrigger: commit
    
    # Build command override (optional)
    buildCommand: echo "Using full-stack Dockerfile"
    
    # Start command override (optional)
    startCommand: python -m uvicorn backend.app.main:app --host 0.0.0.0 --port $PORT
    
    # Custom domains
    domains:
      - www.getyourmusicgear.com
      - getyourmusicgear.com

version: "1"
